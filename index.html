<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Spesial Nuryadi & Linda</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="undangan-container" id="mainContent">
        
        <section class="halaman" id="halaman1">
            <p class="the-wedding-of-text">The Wedding Of</p>

            <div class="mempelai-photo-circle">
                <img src="./images/gambar1.jpg" alt="Foto Mempelai" class="mempelai-img">
            </div>

            <div class="mempelai-names">
                <h1>Nuryadi</h1> 
                <span class="ampersand-symbol">&</span>
                <h1>Linda Lidiana</h1> 
            </div>

            <p class="tanggal-depan">8 - 9 Oktober 2025</p> 

            <div class="recipient-text">
                <p>Kepada Yth Bapak/Ibu/Saudara/i</p>
                <p class="recipient-detail">Teman teman semua</p>
            </div>

            <div class="invitation-controls">
                <img src="./images/envelope_love.gif" alt="Animasi Amplop Cinta" class="envelope-logo">
                <a href="#" class="open-button" id="openInvitationBtn">Open Invitation</a>
            </div>
        </section>

        <section class="halaman hidden" id="halaman2">
            <p class="section-title-undangan">Undangan Pernikahan</p>
            
            <div class="mempelai-photo-circle small-circle">
                <img src="./images/gambar1.jpg" alt="Foto Mempelai" class="mempelai-img">
            </div>

            <div class="mempelai-names-save-the-date">
                <h2>Nuryadi</h2> 
                <span class="ampersand-symbol-small">&</span>
                <h2>Linda Lidiana</h2> 
            </div>

            <p class="tanggal-save-the-date">Kamis, 8 Oktober 2025</p> 
            
            <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Undangan%20Pernikahan%20Nuryadi%20%26%20Linda&dates=20251008T000000/20251009T000000&details=Undangan%20pernikahan%20Nuryadi%20dan%20Linda%20pada%20Rabu%2C%208%20Oktober%202025.%20Mohon%20kehadiran%20dan%20doa%20restunya.&location=Lokasi%20Acara%20Pernikahan%20(akan%20diupdate)&ctz=Asia/Jakarta" 
               target="_blank" rel="noopener noreferrer" class="save-the-date-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="calendar-icon">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
                <span>Save the Date</span>
            </a>
        </section>

        <section class="halaman hidden" id="halaman3">
            <p class="bismillah-arabic">بِسْمِ اللّٰهِ الرَّحْمٰنِ الرَّحِيْمِ</p>
            <p class="bismillah-translation">Dengan nama Allah Yang Maha Pengasih, Maha Penyayang.</p>
            <p class="greeting-arabic">Assalamualaikum Warahmatullahi Wabarakatuh</p>
            <p class="greeting-translation">Semoga kedamaian, rahmat, dan berkah Allah dilimpahkan kepadamu.</p>
            <p class="invitation-intro">Tanpa mengurangi rasa hormat, kami mengundang Anda untuk berkenan menghadiri acara pernikahan kami:</p>
            
            <div class="animated-content-group">
                <div class="bottom-photo-wrapper">
                    <img src="./images/gambar2.jpg" alt="Foto Mempelai Tambahan" class="bottom-round-photo">
                </div>
                <div class="parents-info">
                    <p>Putra ke 2</p>
                    <p>Bapak Dedi Sukarta</p>
                    <p class="and-text">Dan</p>
                    <p>Ibu Iroh</p>
                </div>
            </div>
        </section>

        <section class="halaman hidden" id="halaman4">
            <div class="animated-content-group slide-from-right"> 
                <div class="bottom-photo-wrapper">
                    <img src="./images/gambar3.jpg" alt="Foto Mempelai Tambahan Wanita" class="bottom-round-photo">
                </div>
                <div class="parents-info">
                    <p>Putri ke 1</p> 
                    <p>Bapak Nasim</p>
                    <p class="and-text">Dan</p>
                    <p>Ibu Siti Aminah</p> 
                </div>
            </div>
        </section>

        <section class="halaman hidden" id="halaman5">
            <p class="ayat-text slide-in-top">Allah Subhanahu Wa Ta'ala berfirman</p>
            
            <div class="ayat-box-container">
                <div class="ayat-box slide-in-top">
                    <p>"Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu isteri-isteri dari jenismu sendiri,"</p>
                </div>
                <div class="ayat-box slide-in-top">
                    <p>"supaya kamu cenderung dan merasa tenteram kepadanya, dan dijadikan-Nya diantaramu rasa kasih dan sayang. Sesungguhnya pada yang demikian itu benar-benar terdapat tanda-tanda bagi kaum yang berfikir."</p>
                </div>
            </div>
            <p class="qs-ref slide-in-top">QS. Ar-Rum: 21</p>
        </section>

        <section class="halaman hidden" id="halaman6">
            <div class="ayat-box">
                <p>"Dan sesungguhnya Dialah yang menciptakan pasangan laki-laki dan perempuan,"</p>
                <p class="qs-ref">QS. An-Najm: 45</p>
            </div>
        </section>

        <section class="halaman hidden" id="halaman7">
            <p class="section-title-undangan">Akad Nikah</p>
            <div class="event-detail-card">
                <p class="event-date">Kamis, 8 Oktober 2025</p>
                <p class="event-time">Pukul 08.00 WIB - Selesai</p>
                <p class="event-location-name">Lokasi Akad Nikah</p>
                <p class="event-address">F4CR+HJ8, Cibatu Tiga, Kec. Cariu, Kabupaten Bogor, Jawa Barat 16840</p>
                <a href="https://maps.google.com/?q=F4CR%2BHJ8,+Cibatu+Tiga,+Kec.+Cariu,+Kabupaten+Bogor,+Jawa+Barat,+Indonesia&ftid=0x2e69a48383164847:0xc6d82bbf38993954&g_mp=Cidnb29nbGUubWFwcy5wbGFjZXMudjEuUGxhY2VzLlNlYXJjaFRleHQ" target="_blank" rel="noopener noreferrer" class="map-button">
                    <i class="fas fa-map-marker-alt"></i> Lihat Lokasi
                </a>
            </div>
            <p class="note-text">Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan doa restu.</p>
        </section>
        
        <section class="halaman hidden" id="halaman8">
            <p class="section-title-undangan">Galeri Foto</p>
            <div class="carousel-container-3d">
                <div class="carousel-track-3d" id="carouselTrack3D">
                    <div class="carousel-slide-3d">
                        <img src="./images/gallery1.jpg" alt="Galeri Foto 1" class="gallery-item-3d">
                    </div>
                    <div class="carousel-slide-3d">
                        <img src="./images/gallery2.jpg" alt="Galeri Foto 2" class="gallery-item-3d">
                    </div>
                    <div class="carousel-slide-3d">
                        <img src="./images/gallery3.jpg" alt="Galeri Foto 3" class="gallery-item-3d">
                    </div>
                    <div class="carousel-slide-3d">
                        <img src="./images/gallery4.jpg" alt="Galeri Foto 4" class="gallery-item-3d">
                    </div>
                    <div class="carousel-slide-3d">
                        <img src="./images/gallery5.jpg" alt="Galeri Foto 5" class="gallery-item-3d">
                    </div>
                </div>
                <button class="carousel-button-3d prev" onclick="moveSlide3D(-1)">❮</button>
                <button class="carousel-button-3d next" onclick="moveSlide3D(1)">❯</button>
            </div>
            <div class="carousel-dots-3d" id="carouselDots3D"></div>
        </section>

        <section class="halaman hidden" id="halaman9">
            <p class="closing-text">Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan doa restu.</p>
            <p class="closing-text">Atas kehadiran dan doa restu Bapak/Ibu/Saudara/i, kami ucapkan terima kasih.</p>
            <p class="closing-greeting">Wassalamualaikum Warahmatullahi Wabarakatuh</p>
            <p class="closing-names">Nuryadi & Linda</p>
            <p class="closing-date">8 Oktober 2025</p>
        </section>

    </div>

    <audio id="backgroundMusic" loop>
        <source src="./audio/background_music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <button id="musicToggleButton" class="music-toggle-button">
        <i class="fas fa-music"></i>
    </button>

    <button id="scrollToTopBtn" class="scroll-to-top-button">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        document.getElementById('openInvitationBtn').addEventListener('click', function(event) {
            event.preventDefault(); 
            document.getElementById('halaman1').style.display = 'none'; 
            
            const allPages = document.querySelectorAll('.halaman'); 
            allPages.forEach((page, index) => {
                if (page.id !== 'halaman1') { 
                    setTimeout(() => {
                        page.style.display = 'flex'; 
                        page.classList.remove('hidden'); 
                        void page.offsetWidth; 

                        if (page.id === 'halaman2') {
                            page.classList.add('fade-in');
                        }
                    }, index * 0); 
                }
            });

            const backgroundMusic = document.getElementById('backgroundMusic');
            backgroundMusic.play().catch(e => console.log("Autoplay prevented:", e)); 

            document.getElementById('musicToggleButton').style.display = 'block';
            document.getElementById('scrollToTopBtn').style.display = 'block';
        });

        document.addEventListener('DOMContentLoaded', (event) => {
            const observerOptions = {
                root: null, 
                rootMargin: '0px',
                threshold: 0.2 
            };

            const callback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const page = entry.target;

                        if (page.id === 'halaman3' || page.id === 'halaman4') {
                            const animatedGroup = page.querySelector('.animated-content-group');
                            if (animatedGroup) {
                                animatedGroup.classList.add('show-animated-group');
                                observer.unobserve(page);
                            }
                        }

                        if (page.id === 'halaman5') {
                            const elementsToAnimate = page.querySelectorAll('.slide-in-top');
                            elementsToAnimate.forEach(element => {
                                element.classList.add('show-slide-in-top');
                            });
                            observer.unobserve(page);
                        }
                        
                        if (page.id === 'halaman6') {
                           const ayatBox6 = page.querySelector('.ayat-box');
                           if (ayatBox6) {
                               ayatBox6.classList.add('show-slide-in-top');
                               observer.unobserve(page);
                           }
                        }

                        if (page.id === 'halaman7') { // Halaman Akad Nikah (sekarang halaman lokasi utama)
                            const eventCard = page.querySelector('.event-detail-card');
                            const noteText = page.querySelector('.note-text');
                            if (eventCard) {
                                eventCard.classList.add('fade-in-up');
                            }
                            if (noteText) {
                                noteText.classList.add('fade-in-up');
                            }
                            observer.unobserve(page);
                        }

                        // Halaman 8 (Galeri 3D Carousel)
                        if (page.id === 'halaman8') {
                            initializeCarousel3D(); // Inisialisasi carousel 3D saat halaman muncul
                            observer.unobserve(page);
                        }

                        // Halaman 9 (Penutup)
                        if (page.id === 'halaman9') {
                            const closingElements = page.querySelectorAll('.closing-text, .closing-greeting, .closing-names, .closing-date');
                            closingElements.forEach((el, i) => {
                                setTimeout(() => {
                                    el.classList.add('fade-in-up');
                                }, i * 100);
                            });
                            observer.unobserve(page);
                        }
                    }
                });
            };

            const observer = new IntersectionObserver(callback, observerOptions);

            const pagesToObserve = document.querySelectorAll('.halaman:not(#halaman1)');
            pagesToObserve.forEach(page => {
                observer.observe(page);
            });
        });

        const musicToggleButton = document.getElementById('musicToggleButton');
        const backgroundMusic = document.getElementById('backgroundMusic');
        let isPlaying = false;

        musicToggleButton.addEventListener('click', () => {
            if (isPlaying) {
                backgroundMusic.pause();
                musicToggleButton.innerHTML = '<i class="fas fa-volume-mute"></i>';
            } else {
                backgroundMusic.play().catch(e => console.log("Autoplay prevented:", e));
                musicToggleButton.innerHTML = '<i class="fas fa-music"></i>';
            }
            isPlaying = !isPlaying;
        });

        backgroundMusic.addEventListener('playing', () => {
            isPlaying = true;
            musicToggleButton.innerHTML = '<i class="fas fa-music"></i>';
        });
        backgroundMusic.addEventListener('pause', () => {
            isPlaying = false;
            musicToggleButton.innerHTML = '<i class="fas fa-volume-mute"></i>';
        });
        backgroundMusic.addEventListener('ended', () => {
            isPlaying = false;
            musicToggleButton.innerHTML = '<i class="fas fa-volume-mute"></i>';
        });

        const scrollToTopBtn = document.getElementById('scrollToTopBtn');

        window.addEventListener('scroll', () => {
            if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                scrollToTopBtn.style.display = "block";
            } else {
                scrollToTopBtn.style.display = "none";
            }
        });

        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // 3D Carousel Logic
        let currentSlide3D = 0;
        let totalSlides3D;
        let carouselTrack3D;
        let carouselDots3DContainer;
        let slides3D;

        function initializeCarousel3D() {
            carouselTrack3D = document.getElementById('carouselTrack3D');
            if (!carouselTrack3D) return; 

            slides3D = document.querySelectorAll('.carousel-slide-3d');
            totalSlides3D = slides3D.length;

            carouselDots3DContainer = document.getElementById('carouselDots3D');
            carouselDots3DContainer.innerHTML = ''; 
            for (let i = 0; i < totalSlides3D; i++) {
                const dot = document.createElement('span');
                dot.classList.add('dot-3d');
                if (i === 0) dot.classList.add('active');
                dot.setAttribute('data-slide', i);
                dot.addEventListener('click', () => goToSlide3D(i));
                carouselDots3DContainer.appendChild(dot);
            }
            updateCarousel3D();
        }

        function moveSlide3D(direction) {
            currentSlide3D = (currentSlide3D + direction + totalSlides3D) % totalSlides3D;
            updateCarousel3D();
        }

        function goToSlide3D(index) {
            currentSlide3D = index;
            updateCarousel3D();
        }

        function updateCarousel3D() {
            if (!carouselTrack3D || !slides3D) return;

            const angle = 360 / totalSlides3D;
            const radius = slides3D[0].offsetWidth / 2 / Math.tan(Math.PI / totalSlides3D); 

            slides3D.forEach((slide, index) => {
                const slideAngle = angle * (index - currentSlide3D);
                slide.style.transform = `
                    rotateY(${slideAngle}deg) 
                    translateZ(${radius}px)
                `;
                slide.classList.toggle('active', index === currentSlide3D);
            });

            document.querySelectorAll('.dot-3d').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide3D);
            });
        }
    </script>
</body>
</html>
